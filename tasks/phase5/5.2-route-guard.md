# ä»»åŠ¡ 5.2: è·¯ç”±å®ˆå«

## åŸºæœ¬ä¿¡æ¯

- **ä»»åŠ¡ç¼–å·**: 5.2
- **Phase**: 5 - ä¸­é—´ä»¶ç³»ç»Ÿ
- **è´Ÿè´£äºº**: èµ„æ·±æ¶æ„å¸ˆ
- **é¢„è®¡å·¥æ—¶**: 1 å¤©
- **ä¼˜å…ˆçº§**: ğŸŸ¡ P1
- **ä¾èµ–**: æ— 

## ä»»åŠ¡æè¿°

å®ç° TanStack Router è·¯ç”±å®ˆå«ã€‚

## äº¤ä»˜ç‰©

### 1. æ ¸å¿ƒæ–‡ä»¶

- `packages/framework/src/middleware/route-guard.ts` - è·¯ç”±å®ˆå«
- `packages/framework/src/middleware/redirect.ts` - é‡å®šå‘å·¥å…·

### 2. åŠŸèƒ½è¦æ±‚

- [ ] beforeLoad æ”¯æŒ
- [ ] é‡å®šå‘å·¥å…·
- [ ] æƒé™æ£€æŸ¥

## å®ç°

```typescript
// packages/framework/src/middleware/route-guard.ts
export function defineGuard(
  guard: (context: LoaderContext) => Promise<void> | void,
): LoaderContext {
  return async (context) => {
    await guard(context);
    return context;
  };
}

export function redirect(to: string): never {
  throw { type: "redirect", to };
}
```

## éªŒæ”¶æ ‡å‡†

- [ ] å®ˆå«æ­£å¸¸å·¥ä½œ
- [ ] é‡å®šå‘å¯ç”¨
- [ ] ç±»å‹å®‰å…¨

---

**åˆ›å»ºæ—¶é—´**: 2026-01-15  
**çŠ¶æ€**: å¾…å¼€å§‹
