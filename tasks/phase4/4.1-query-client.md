# ä»»åŠ¡ 4.1: Query Client é…ç½®

## åŸºæœ¬ä¿¡æ¯

- **ä»»åŠ¡ç¼–å·**: 4.1
- **Phase**: 4 - æ•°æ®å±‚é›†æˆ
- **è´Ÿè´£äºº**: èµ„æ·±å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ
- **é¢„è®¡å·¥æ—¶**: 1 å¤©
- **ä¼˜å…ˆçº§**: ğŸŸ¡ P1
- **ä¾èµ–**: æ— 

## ä»»åŠ¡æè¿°

é…ç½® TanStack Query Clientï¼Œæ”¯æŒ SSR çŠ¶æ€æ°´åˆã€‚

## äº¤ä»˜ç‰©

### 1. æ ¸å¿ƒæ–‡ä»¶

- `packages/framework/src/query/client.ts` - Query Client é…ç½®
- `packages/framework/src/query/hydration.ts` - çŠ¶æ€æ°´åˆ

### 2. åŠŸèƒ½è¦æ±‚

- [ ] QueryClient åˆ›å»º
- [ ] SSR é…ç½®
- [ ] çŠ¶æ€æ°´åˆ
- [ ] ç¼“å­˜ç­–ç•¥

## å®ç°

```typescript
// packages/framework/src/query/client.ts
export function createQueryClient(options?: {
  ssr?: boolean;
  staleTime?: number;
  gcTime?: number;
}): QueryClient {
  return new QueryClient({
    defaultOptions: {
      queries: {
        enabled: options?.ssr ?? true,
        staleTime: options?.staleTime ?? 1000 * 60 * 5,
        gcTime: options?.gcTime ?? 1000 * 60 * 10,
      },
    },
  });
}

export function hydrateQueryClient(client: QueryClient, state: any): void {
  client.hydrate(state);
}
```

## éªŒæ”¶æ ‡å‡†

- [ ] QueryClient æ­£ç¡®åˆ›å»º
- [ ] æ°´åˆæ­£å¸¸
- [ ] ç¼“å­˜ç­–ç•¥ç”Ÿæ•ˆ

---

**åˆ›å»ºæ—¶é—´**: 2026-01-15  
**çŠ¶æ€**: å¾…å¼€å§‹
