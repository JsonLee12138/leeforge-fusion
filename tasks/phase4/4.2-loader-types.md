# ä»»åŠ¡ 4.2: Loader ç±»å‹å®šä¹‰

## åŸºæœ¬ä¿¡æ¯

- **ä»»åŠ¡ç¼–å·**: 4.2
- **Phase**: 4 - æ•°æ®å±‚é›†æˆ
- **è´Ÿè´£äºº**: èµ„æ·±å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ
- **é¢„è®¡å·¥æ—¶**: 1 å¤©
- **ä¼˜å…ˆçº§**: ğŸŸ¡ P1
- **ä¾èµ–**: æ— 

## ä»»åŠ¡æè¿°

å®šä¹‰ Loader å‡½æ•°çš„ç±»å‹æ”¯æŒã€‚

## äº¤ä»˜ç‰©

### 1. æ ¸å¿ƒæ–‡ä»¶

- `packages/framework/src/router/loader-types.ts` - Loader ç±»å‹
- `packages/framework/src/router/loader-context.ts` - Loader ä¸Šä¸‹æ–‡

### 2. åŠŸèƒ½è¦æ±‚

- [ ] LoaderContext ç±»å‹
- [ ] Loader å‡½æ•°ç±»å‹
- [ ] è¿”å›å€¼ç±»å‹æ¨æ–­
- [ ] é”™è¯¯å¤„ç†ç±»å‹

## å®ç°

```typescript
// packages/framework/src/router/loader-types.ts
export interface LoaderContext {
  queryClient: QueryClient;
  user?: User;
  API_BASE: string;
  params: Record<string, string>;
  request: Request;
}

export type Loader<T = any> = (context: LoaderContext) => Promise<T> | T;

export type LoaderResult<T extends Loader> =
  T extends Loader<infer R> ? R : never;
```

## éªŒæ”¶æ ‡å‡†

- [ ] ç±»å‹æ¨æ–­æ­£ç¡®
- [ ] é”™è¯¯ç±»å‹å®Œæ•´
- [ ] ä½¿ç”¨è€…å‹å¥½

---

**åˆ›å»ºæ—¶é—´**: 2026-01-15  
**çŠ¶æ€**: å¾…å¼€å§‹
